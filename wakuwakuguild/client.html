<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¾é ¼ä¸»ç™»éŒ² - ã‚ãã‚ãã‚®ãƒ«ãƒ‰</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>âš”ï¸ ã‚ãã‚ãã‚®ãƒ«ãƒ‰</h1>
      <nav>
        <a href="index.html">ã‚¯ã‚¨ã‚¹ãƒˆæ²ç¤ºæ¿</a>
        <a href="ranking.html">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</a>
        <a href="member.html">ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²</a>
        <a href="client.html">ä¾é ¼ä¸»ç™»éŒ²</a>
        <a href="mypage.html">ãƒã‚¤ãƒšãƒ¼ã‚¸</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="form-section">
      <h2>ğŸ“‹ ä¾é ¼ä¸»ç™»éŒ²</h2>
      <p>åœ°åŸŸã®ã‚®ãƒ«ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼ã«ä»•äº‹ã‚’ä¾é ¼ã—ã¾ã›ã‚“ã‹ï¼Ÿ</p>

      <form id="clientForm" onsubmit="submitClientForm(event)">
        <div class="form-group">
          <label for="clientName">ä¾é ¼ä¸»åï¼ˆå€‹äººåã¾ãŸã¯å›£ä½“åï¼‰ <span class="required">*</span></label>
          <input type="text" id="clientName" name="clientName" required>
          <small>å€‹äººã®æ–¹ã¯æ°åã€å›£ä½“ã®æ–¹ã¯å›£ä½“åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</small>
        </div>

        <div class="form-group">
          <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span class="required">*</span></label>
          <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="phone">é›»è©±ç•ªå· <span class="required">*</span></label>
          <input type="tel" id="phone" name="phone" required>
        </div>

        <div class="form-group">
          <label for="address">ä½æ‰€ <span class="required">*</span></label>
          <input type="text" id="address" name="address" required>
          <small>ã‚¯ã‚¨ã‚¹ãƒˆå®Ÿæ–½å ´æ‰€ãŒç•°ãªã‚‹å ´åˆã¯ã€ã‚¯ã‚¨ã‚¹ãƒˆæŠ•ç¨¿æ™‚ã«åˆ¥é€”æŒ‡å®šã§ãã¾ã™</small>
        </div>

        <div class="form-group">
          <label for="clientType">ä¾é ¼ä¸»ç¨®åˆ¥ <span class="required">*</span></label>
          <select id="clientType" name="clientType" required>
            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
            <option value="å€‹äºº">å€‹äºº</option>
            <option value="è‡ªæ²»ä¼š">è‡ªæ²»ä¼š</option>
            <option value="ä¼æ¥­">ä¼æ¥­</option>
            <option value="NPO">NPOãƒ»å›£ä½“</option>
            <option value="ãã®ä»–">ãã®ä»–</option>
          </select>
        </div>

        <div class="form-group">
          <label for="remarks">å‚™è€ƒãƒ»ãã®ä»–</label>
          <textarea id="remarks" name="remarks" rows="4" placeholder="ç‰¹è¨˜äº‹é …ãŒã‚ã‚Œã°ã”è¨˜å…¥ãã ã•ã„"></textarea>
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" name="agree" required>
            <a href="#" onclick="showTerms(); return false;">åˆ©ç”¨è¦ç´„</a>ãŠã‚ˆã³<a href="#" onclick="showPrivacy(); return false;">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>ã«åŒæ„ã—ã¾ã™
          </label>
        </div>

        <button type="submit" class="btn-primary" id="submitBtn">ç™»éŒ²ç”³è«‹ã™ã‚‹</button>
      </form>

      <div class="info-box">
        <h3>ğŸ’¡ ä¾é ¼ä¸»ç™»éŒ²ã«ã¤ã„ã¦</h3>
        <ul>
          <li>ç™»éŒ²ç”³è«‹å¾Œã€äº‹å‹™å±€ãŒå¯©æŸ»ã‚’è¡Œã„ã¾ã™ï¼ˆé€šå¸¸2-3å–¶æ¥­æ—¥ï¼‰</li>
          <li>æ‰¿èªå¾Œã€ã‚¯ã‚¨ã‚¹ãƒˆæŠ•ç¨¿ãŒå¯èƒ½ã«ãªã‚Šã¾ã™</li>
          <li>ã‚¯ã‚¨ã‚¹ãƒˆæ‰¿èªæ™‚ã«å ±é…¬ç›¸å½“é¡ã‚’äº‹å‹™å±€ã«ãŠé ã‘ã„ãŸã ãã¾ã™</li>
          <li>ã‚¯ã‚¨ã‚¹ãƒˆå®Œäº†å¾Œã€äº‹å‹™å±€ã‹ã‚‰ã‚®ãƒ«ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼ã¸å ±é…¬ã‚’æ”¯æ‰•ã„ã¾ã™</li>
        </ul>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2026 ç·ç¤¾å¸‚ã‚®ãƒ«ãƒ‰äº‹å‹™å±€ | ã‚ãã‚ãã‚®ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</p>
  </footer>

  <script src="js/config.js"></script>
  <script>
    async function submitClientForm(event) {
      event.preventDefault();
      
      const submitBtn = document.getElementById('submitBtn');
      submitBtn.disabled = true;
      submitBtn.textContent = 'é€ä¿¡ä¸­...';
      
<script src="js/config.js"></script>
<script>
  async function submitClientForm(event) {
    event.preventDefault();
    
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'é€ä¿¡ä¸­...';
    
    const formData = new FormData(event.target);
    
    const clientData = {
      clientName: formData.get('clientName'),
      email: formData.get('email'),
      phone: formData.get('phone'),
      address: formData.get('address'),
      clientType: formData.get('clientType'),
      remarks: formData.get('remarks')
    };

    try {
      const response = await fetch(GAS_WEB_APP_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'text/plain', // â˜… é‡è¦
        },
        body: JSON.stringify({
          action: 'registerClient',
          data: clientData
        })
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const result = await response.json();
      
      if (result.success) {
        alert(`âœ… ç™»éŒ²ç”³è«‹ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸï¼\n\nä¾é ¼ä¸»ID: ${result.clientId}\n\näº‹å‹™å±€ã®å¯©æŸ»ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚\nå¯©æŸ»çµæœã¯ãƒ¡ãƒ¼ãƒ«ã§ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚\n\nâ€»ä¾é ¼ä¸»IDã¯å¤§åˆ‡ã«ä¿ç®¡ã—ã¦ãã ã•ã„ã€‚`);
        event.target.reset();
      } else {
        alert('âŒ ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ\n\n' + (result.message || 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ'));
      }
    } catch (error) {
      console.error('ç™»éŒ²ã‚¨ãƒ©ãƒ¼:', error);
      alert('âŒ ç™»éŒ²å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\n\n' + error.message + '\n\nãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèªã—ã¦ã€ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = 'ç™»éŒ²ç”³è«‹ã™ã‚‹';
    }
  }

  function showTerms() {
    alert('ã€åˆ©ç”¨è¦ç´„ã€‘\n\n1. æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯ç·ç¤¾å¸‚ãŒé‹å–¶ã™ã‚‹ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™\n2. ç™»éŒ²æƒ…å ±ã¯é©åˆ‡ã«ç®¡ç†ã•ã‚Œã¾ã™\n3. ã‚¯ã‚¨ã‚¹ãƒˆã®æŠ•ç¨¿ã«ã¯äº‹å‹™å±€ã®å¯©æŸ»ãŒå¿…è¦ã§ã™\n4. ä¸æ­£è¡Œç‚ºãŒç™ºè¦šã—ãŸå ´åˆã¯ç™»éŒ²ã‚’æŠ¹æ¶ˆã—ã¾ã™\n\nâ€»è©³ç´°ã¯å¾Œæ—¥Webãƒšãƒ¼ã‚¸ã§å…¬é–‹äºˆå®š');
  }

  function showPrivacy() {
    alert('ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã€‘\n\n1. å€‹äººæƒ…å ±ã¯æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®é‹å–¶ç›®çš„ã®ã¿ã«ä½¿ç”¨ã—ã¾ã™\n2. ç¬¬ä¸‰è€…ã¸ã®æä¾›ã¯è¡Œã„ã¾ã›ã‚“ï¼ˆæ³•ä»¤ã«åŸºã¥ãå ´åˆã‚’é™¤ãï¼‰\n3. æƒ…å ±ã®ç®¡ç†ã«ã¯ä¸‡å…¨ã‚’æœŸã—ã¾ã™\n\nâ€»è©³ç´°ã¯å¾Œæ—¥Webãƒšãƒ¼ã‚¸ã§å…¬é–‹äºˆå®š');
  }
  /**
 * æ—¥ä»˜ã‚’æ—¥æœ¬èªå½¢å¼ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
 */
function formatDate(dateString) {
  if (!dateString) return '-';
  
  try {
    const date = new Date(dateString);
    
    // ç„¡åŠ¹ãªæ—¥ä»˜ãƒã‚§ãƒƒã‚¯
    if (isNaN(date.getTime())) return '-';
    
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    const hour = String(date.getHours()).padStart(2, '0');
    const minute = String(date.getMinutes()).padStart(2, '0');
    
    return `${year}å¹´${month}æœˆ${day}æ—¥ ${hour}:${minute}`;
  } catch (error) {
    return '-';
  }
}

/**
 * æ—¥ä»˜ã®ã¿è¡¨ç¤ºï¼ˆæ™‚åˆ»ãªã—ï¼‰
 */
function formatDateOnly(dateString) {
  if (!dateString) return '-';
  
  try {
    const date = new Date(dateString);
    if (isNaN(date.getTime())) return '-';
    
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    
    return `${year}å¹´${month}æœˆ${day}æ—¥`;
  } catch (error) {
    return '-';
  }
}

/**
 * ç›¸å¯¾æ™‚é–“è¡¨ç¤ºï¼ˆâ—‹æ—¥å‰ã€â—‹æ™‚é–“å‰ãªã©ï¼‰
 */
function formatRelativeTime(dateString) {
  if (!dateString) return '-';
  
  try {
    const date = new Date(dateString);
    if (isNaN(date.getTime())) return '-';
    
    const now = new Date();
    const diffMs = now - date;
    const diffSec = Math.floor(diffMs / 1000);
    const diffMin = Math.floor(diffSec / 60);
    const diffHour = Math.floor(diffMin / 60);
    const diffDay = Math.floor(diffHour / 24);
    
    if (diffSec < 60) return `${diffSec}ç§’å‰`;
    if (diffMin < 60) return `${diffMin}åˆ†å‰`;
    if (diffHour < 24) return `${diffHour}æ™‚é–“å‰`;
    if (diffDay < 7) return `${diffDay}æ—¥å‰`;
    
    return formatDateOnly(dateString);
  } catch (error) {
    return '-';
  }
}
</script>
</body>
</html>
