<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚®ãƒ«ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ² - ã‚ãã‚ãã‚®ãƒ«ãƒ‰</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>âš”ï¸ ã‚ãã‚ãã‚®ãƒ«ãƒ‰</h1>
      <nav>
        <a href="index.html">ã‚¯ã‚¨ã‚¹ãƒˆæ²ç¤ºæ¿</a>
        <a href="ranking.html">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</a>
        <a href="member.html">ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²</a>
        <a href="client.html">ä¾é ¼ä¸»ç™»éŒ²</a>
        <a href="mypage.html">ãƒã‚¤ãƒšãƒ¼ã‚¸</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="form-section">
      <h2>ğŸ›¡ï¸ ã‚®ãƒ«ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²</h2>
      <p>ã‚ãªãŸã‚‚ã‚®ãƒ«ãƒ‰ã®ä¸€å“¡ã¨ã—ã¦ã€åœ°åŸŸã®ã‚¯ã‚¨ã‚¹ãƒˆã«æŒ‘æˆ¦ã—ã¾ã›ã‚“ã‹ï¼Ÿ</p>

      <form id="memberForm" onsubmit="submitMemberForm(event)">
        <div class="form-group">
          <label for="name">æ°å <span class="required">*</span></label>
          <input type="text" id="name" name="name" required>
        </div>

        <div class="form-group">
          <label for="nickname">ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆã‚®ãƒ«ãƒ‰å†…è¡¨ç¤ºåï¼‰ <span class="required">*</span></label>
          <input type="text" id="nickname" name="nickname" required>
          <small>ä»–ã®ãƒ¡ãƒ³ãƒãƒ¼ã‚„ä¾é ¼ä¸»ã«è¡¨ç¤ºã•ã‚Œã‚‹åå‰ã§ã™</small>
        </div>

        <div class="form-group">
          <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span class="required">*</span></label>
          <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="phone">é›»è©±ç•ªå· <span class="required">*</span></label>
          <input type="tel" id="phone" name="phone" required>
        </div>

        <div class="form-group">
          <label for="address">ä½æ‰€ <span class="required">*</span></label>
          <input type="text" id="address" name="address" required>
        </div>

        <div class="form-group">
          <label for="skills">å¾—æ„ãªã‚¹ã‚­ãƒ«ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</label>
          <div class="checkbox-group">
            <label><input type="checkbox" name="skills" value="è‰åˆˆã‚Š"> è‰åˆˆã‚Š</label>
            <label><input type="checkbox" name="skills" value="åŠ›ä»•äº‹"> åŠ›ä»•äº‹</label>
            <label><input type="checkbox" name="skills" value="ITæ”¯æ´"> ITæ”¯æ´</label>
            <label><input type="checkbox" name="skills" value="æ–™ç†"> æ–™ç†</label>
            <label><input type="checkbox" name="skills" value="æ¸…æƒ"> æ¸…æƒ</label>
            <label><input type="checkbox" name="skills" value="ãã®ä»–"> ãã®ä»–</label>
          </div>
        </div>

        <fieldset>
          <legend>ğŸ’³ å ±é…¬æŒ¯è¾¼å…ˆæƒ…å ±</legend>
          
          <div class="form-group">
            <label for="bankName">éŠ€è¡Œå <span class="required">*</span></label>
            <input type="text" id="bankName" name="bankName" required>
          </div>

          <div class="form-group">
            <label for="branchName">æ”¯åº—å <span class="required">*</span></label>
            <input type="text" id="branchName" name="branchName" required>
          </div>

          <div class="form-group">
            <label for="accountType">å£åº§ç¨®åˆ¥ <span class="required">*</span></label>
            <select id="accountType" name="accountType" required>
              <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
              <option value="æ™®é€š">æ™®é€š</option>
              <option value="å½“åº§">å½“åº§</option>
            </select>
          </div>

          <div class="form-group">
            <label for="accountNumber">å£åº§ç•ªå· <span class="required">*</span></label>
            <input type="text" id="accountNumber" name="accountNumber" required pattern="[0-9]{7}" title="7æ¡ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
          </div>

          <div class="form-group">
            <label for="accountHolder">å£åº§åç¾©ï¼ˆã‚«ãƒŠï¼‰ <span class="required">*</span></label>
            <input type="text" id="accountHolder" name="accountHolder" required pattern="[ã‚¡-ãƒ¶ãƒ¼\s]+" title="å…¨è§’ã‚«ã‚¿ã‚«ãƒŠã§å…¥åŠ›ã—ã¦ãã ã•ã„">
            <small>ä¾‹: ãƒ¤ãƒãƒ€ã‚¿ãƒ­ã‚¦</small>
          </div>
        </fieldset>

        <div class="form-group">
          <label>
            <input type="checkbox" name="agree" required>
            <a href="#" onclick="showTerms(); return false;">åˆ©ç”¨è¦ç´„</a>ãŠã‚ˆã³<a href="#" onclick="showPrivacy(); return false;">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>ã«åŒæ„ã—ã¾ã™
          </label>
        </div>

        <button type="submit" class="btn-primary" id="submitBtn">ç™»éŒ²ç”³è«‹ã™ã‚‹</button>
      </form>

      <div class="info-box">
        <h3>ğŸ’¡ ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²ã«ã¤ã„ã¦</h3>
        <ul>
          <li>ç™»éŒ²ç”³è«‹å¾Œã€äº‹å‹™å±€ãŒå¯©æŸ»ã‚’è¡Œã„ã¾ã™ï¼ˆé€šå¸¸2-3å–¶æ¥­æ—¥ï¼‰</li>
          <li>æ‰¿èªå¾Œã€ã‚¯ã‚¨ã‚¹ãƒˆã¸ã®å¿œå‹ŸãŒå¯èƒ½ã«ãªã‚Šã¾ã™</li>
          <li>åˆæœŸãƒ©ãƒ³ã‚¯ã¯Fã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™</li>
          <li>ã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Œäº†ã™ã‚‹ã¨çµŒé¨“å€¤ã‚’ç²å¾—ã—ã€ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—ã§ãã¾ã™</li>
        </ul>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2026 ç·ç¤¾å¸‚ã‚®ãƒ«ãƒ‰äº‹å‹™å±€ | ã‚ãã‚ãã‚®ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</p>
  </footer>

<script src="js/config.js"></script>
<script>
  async function submitMemberForm(event) {
    event.preventDefault();
    
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'é€ä¿¡ä¸­...';
    
    const formData = new FormData(event.target);
    const skills = Array.from(formData.getAll('skills')).join(',');
    
    const memberData = {
      name: formData.get('name'),
      nickname: formData.get('nickname'),
      email: formData.get('email'),
      phone: formData.get('phone'),
      address: formData.get('address'),
      skills: skills,
      bankName: formData.get('bankName'),
      branchName: formData.get('branchName'),
      accountType: formData.get('accountType'),
      accountNumber: formData.get('accountNumber'),
      accountHolder: formData.get('accountHolder')
    };

    try {
      const response = await fetch(GAS_WEB_APP_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'text/plain', // â˜… ã“ã“ã ã‘å¤‰æ›´
        },
        body: JSON.stringify({
          action: 'registerMember',
          data: memberData
        })
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const result = await response.json();
      
      if (result.success) {
        alert(`âœ… ç™»éŒ²ç”³è«‹ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸï¼\n\nãƒ¡ãƒ³ãƒãƒ¼ID: ${result.memberId}\n\näº‹å‹™å±€ã®å¯©æŸ»ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚\nå¯©æŸ»çµæœã¯ãƒ¡ãƒ¼ãƒ«ã§ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚\n\nâ€»ãƒ¡ãƒ³ãƒãƒ¼IDã¯å¤§åˆ‡ã«ä¿ç®¡ã—ã¦ãã ã•ã„ã€‚`);
        event.target.reset();
      } else {
        alert('âŒ ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ\n\n' + (result.message || 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ'));
      }
    } catch (error) {
      console.error('ç™»éŒ²ã‚¨ãƒ©ãƒ¼:', error);
      alert('âŒ ç™»éŒ²å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\n\n' + error.message + '\n\nãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèªã—ã¦ã€ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = 'ç™»éŒ²ç”³è«‹ã™ã‚‹';
    }
  }

  function showTerms() {
    alert('ã€åˆ©ç”¨è¦ç´„ã€‘\n\n1. æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯ç·ç¤¾å¸‚ãŒé‹å–¶ã™ã‚‹ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™\n2. ç™»éŒ²æƒ…å ±ã¯é©åˆ‡ã«ç®¡ç†ã•ã‚Œã¾ã™\n3. ã‚¯ã‚¨ã‚¹ãƒˆã®å—æ³¨å¾Œã¯è²¬ä»»ã‚’æŒã£ã¦å®Œäº†ã—ã¦ãã ã•ã„\n4. ä¸æ­£è¡Œç‚ºãŒç™ºè¦šã—ãŸå ´åˆã¯ç™»éŒ²ã‚’æŠ¹æ¶ˆã—ã¾ã™\n\nâ€»è©³ç´°ã¯å¾Œæ—¥Webãƒšãƒ¼ã‚¸ã§å…¬é–‹äºˆå®š');
  }

  function showPrivacy() {
    alert('ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã€‘\n\n1. å€‹äººæƒ…å ±ã¯æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®é‹å–¶ç›®çš„ã®ã¿ã«ä½¿ç”¨ã—ã¾ã™\n2. ç¬¬ä¸‰è€…ã¸ã®æä¾›ã¯è¡Œã„ã¾ã›ã‚“ï¼ˆæ³•ä»¤ã«åŸºã¥ãå ´åˆã‚’é™¤ãï¼‰\n3. æƒ…å ±ã®ç®¡ç†ã«ã¯ä¸‡å…¨ã‚’æœŸã—ã¾ã™\n\nâ€»è©³ç´°ã¯å¾Œæ—¥Webãƒšãƒ¼ã‚¸ã§å…¬é–‹äºˆå®š');
  }
</script>
</body>
</html>
